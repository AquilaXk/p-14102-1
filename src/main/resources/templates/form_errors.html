<th:block th:fragment="formErrorsFragment">
    <ul th:if="${#fields.hasAnyErrors()}">
        <li th:each="err : ${#fields.allErrors().stream().sorted()}"
            th:with="errStrs = ${err.split('-', 3)},
                    errFieldName = ${errStrs[1]},
                    errMsg = ${errStrs[2]}"
            th:data-error-field-name="${errFieldName}" th:text="${errMsg}"
            style="color: red;"/>
    </ul>
    <script>
        const forms = document.querySelectorAll('form');

        const lastForm = forms[forms.length - 1];

        //ul>li ul의 자식 li 중 제일 위에
        const errorFieldName = lastForm.querySelector('ul>li')?.dataset?.errorFieldName || '';

        if (errorFieldName.length > 0) {
            setTimeout(() => lastForm[errorFieldName].focus());
        }
    </script>
</th:block>